<!DOCTYPE html>
<html lang="en-ca" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SCP / Rsync Behavior | SSH Config Cloud</title>
    <meta name="description" content="KVM Cloud-Init Hyper-V">
    <link rel="preload stylesheet" href="/ssh-config-cloud/assets/style.b6cc3a9a.css" as="style">
    <script type="module" src="/ssh-config-cloud/assets/app.417a6d87.js"></script>
    <link rel="preload" href="/ssh-config-cloud/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/ssh-config-cloud/assets/chunks/framework.f2b6412b.js">
  <link rel="modulepreload" href="/ssh-config-cloud/assets/chunks/theme.6a25c453.js">
  <link rel="modulepreload" href="/ssh-config-cloud/assets/ssh_readme_scp_rsync.md.3549b86f.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-890b98d6><!--[--><!--]--><!--[--><span tabindex="-1" data-v-72610e68></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-72610e68> Skip to content </a><!--]--><!----><header class="VPNav" data-v-890b98d6 data-v-6f1faff4><div class="VPNavBar has-sidebar" data-v-6f1faff4 data-v-3e893fc4><div class="container" data-v-3e893fc4><div class="title" data-v-3e893fc4><div class="VPNavBarTitle has-sidebar" data-v-3e893fc4 data-v-f0185c3e><a class="title" href="/ssh-config-cloud/" data-v-f0185c3e><!--[--><!--]--><!----><!--[-->SSH Config Cloud<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-3e893fc4><div class="curtain" data-v-3e893fc4></div><div class="content-body" data-v-3e893fc4><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-3e893fc4><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-3e893fc4 data-v-c4bc3922><span id="main-nav-aria-label" class="visually-hidden" data-v-c4bc3922>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ssh-config-cloud/" tabindex="0" data-v-c4bc3922 data-v-fea0a99b data-v-e57277a5><!--[-->Home<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ssh-config-cloud/vitePress/" tabindex="0" data-v-c4bc3922 data-v-fea0a99b data-v-e57277a5><!--[-->Examples<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-3e893fc4 data-v-76e5c0e1><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-76e5c0e1 data-v-4e93ddef data-v-c2c88d13><span class="check" data-v-c2c88d13><span class="icon" data-v-c2c88d13><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-4e93ddef><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-4e93ddef><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-3e893fc4 data-v-9f280dcb data-v-1f1460a2><!--[--><a class="VPSocialLink" href="https://github.com/hychan48/ssh-config-cloud" aria-label="github" target="_blank" rel="noopener" data-v-1f1460a2 data-v-70004148><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-3e893fc4 data-v-72d1a907 data-v-39851f04><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-39851f04><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-39851f04><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-39851f04><div class="VPMenu" data-v-39851f04 data-v-79f30eb4><!----><!--[--><!--[--><!----><div class="group" data-v-72d1a907><div class="item appearance" data-v-72d1a907><p class="label" data-v-72d1a907>Appearance</p><div class="appearance-action" data-v-72d1a907><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-72d1a907 data-v-4e93ddef data-v-c2c88d13><span class="check" data-v-c2c88d13><span class="icon" data-v-c2c88d13><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-4e93ddef><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-4e93ddef><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-72d1a907><div class="item social-links" data-v-72d1a907><div class="VPSocialLinks social-links-list" data-v-72d1a907 data-v-1f1460a2><!--[--><a class="VPSocialLink" href="https://github.com/hychan48/ssh-config-cloud" aria-label="github" target="_blank" rel="noopener" data-v-1f1460a2 data-v-70004148><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-3e893fc4 data-v-69a8cf87><span class="container" data-v-69a8cf87><span class="top" data-v-69a8cf87></span><span class="middle" data-v-69a8cf87></span><span class="bottom" data-v-69a8cf87></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-890b98d6 data-v-f999feb7><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f999feb7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-f999feb7><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-f999feb7>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f999feb7 data-v-bd758177><button data-v-bd758177>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-890b98d6 data-v-4b0691d4><div class="curtain" data-v-4b0691d4></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4b0691d4><span class="visually-hidden" id="sidebar-aria-label" data-v-4b0691d4> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4b0691d4><section class="VPSidebarItem level-0" data-v-4b0691d4 data-v-84523032><div class="item" role="button" tabindex="0" data-v-84523032><div class="indicator" data-v-84523032></div><h2 class="text" data-v-84523032>WSL</h2><!----></div><div class="items" data-v-84523032><!--[--><div class="VPSidebarItem level-1 is-link" data-v-84523032 data-v-84523032><div class="item" data-v-84523032><div class="indicator" data-v-84523032></div><a class="VPLink link link" href="/ssh-config-cloud/wsl/index.html" data-v-84523032 data-v-e57277a5><!--[--><p class="text" data-v-84523032>WSL 2</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4b0691d4><section class="VPSidebarItem level-0 has-active" data-v-4b0691d4 data-v-84523032><div class="item" role="button" tabindex="0" data-v-84523032><div class="indicator" data-v-84523032></div><h2 class="text" data-v-84523032>SSH</h2><!----></div><div class="items" data-v-84523032><!--[--><div class="VPSidebarItem level-1 is-link" data-v-84523032 data-v-84523032><div class="item" data-v-84523032><div class="indicator" data-v-84523032></div><a class="VPLink link link" href="/ssh-config-cloud/ssh/index.html" data-v-84523032 data-v-e57277a5><!--[--><p class="text" data-v-84523032>SSH</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-84523032 data-v-84523032><div class="item" data-v-84523032><div class="indicator" data-v-84523032></div><a class="VPLink link link" href="/ssh-config-cloud/ssh/readme_scp_rsync.html" data-v-84523032 data-v-e57277a5><!--[--><p class="text" data-v-84523032>Rsync</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4b0691d4><section class="VPSidebarItem level-0" data-v-4b0691d4 data-v-84523032><div class="item" role="button" tabindex="0" data-v-84523032><div class="indicator" data-v-84523032></div><h2 class="text" data-v-84523032>VitePress Examples</h2><!----></div><div class="items" data-v-84523032><!--[--><div class="VPSidebarItem level-1 is-link" data-v-84523032 data-v-84523032><div class="item" data-v-84523032><div class="indicator" data-v-84523032></div><a class="VPLink link link" href="/ssh-config-cloud/vitePress/" data-v-84523032 data-v-e57277a5><!--[--><p class="text" data-v-84523032>Developer Notes</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-84523032 data-v-84523032><div class="item" data-v-84523032><div class="indicator" data-v-84523032></div><a class="VPLink link link" href="/ssh-config-cloud/vitePress/markdown-examples.html" data-v-84523032 data-v-e57277a5><!--[--><p class="text" data-v-84523032>Markdown Examples</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-84523032 data-v-84523032><div class="item" data-v-84523032><div class="indicator" data-v-84523032></div><a class="VPLink link link" href="/ssh-config-cloud/vitePress/api-examples.html" data-v-84523032 data-v-e57277a5><!--[--><p class="text" data-v-84523032>Runtime API Examples</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-890b98d6 data-v-6c4ba100><div class="VPDoc has-sidebar has-aside" data-v-6c4ba100 data-v-0f1f0d5b><!--[--><!--]--><div class="container" data-v-0f1f0d5b><div class="aside" data-v-0f1f0d5b><div class="aside-curtain" data-v-0f1f0d5b></div><div class="aside-container" data-v-0f1f0d5b><div class="aside-content" data-v-0f1f0d5b><div class="VPDocAside" data-v-0f1f0d5b data-v-df4810da><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-df4810da data-v-47b9e09d><div class="content" data-v-47b9e09d><div class="outline-marker" data-v-47b9e09d></div><div class="outline-title" data-v-47b9e09d>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-47b9e09d><span class="visually-hidden" id="doc-outline-aria-label" data-v-47b9e09d> Table of Contents for current page </span><ul class="root" data-v-47b9e09d data-v-64a54555><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-df4810da></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-0f1f0d5b><div class="content-container" data-v-0f1f0d5b><!--[--><!--]--><!----><main class="main" data-v-0f1f0d5b><div style="position:relative;" class="vp-doc _ssh-config-cloud_ssh_readme_scp_rsync" data-v-0f1f0d5b><div><h1 id="scp-rsync-behavior" tabindex="-1">SCP / Rsync Behavior <a class="header-anchor" href="#scp-rsync-behavior" aria-label="Permalink to &quot;SCP / Rsync Behavior&quot;">​</a></h1><h2 id="background" tabindex="-1">Background <a class="header-anchor" href="#background" aria-label="Permalink to &quot;Background&quot;">​</a></h2><ul><li>Had issues with duplicate folders when using the command more than once or not at all</li><li>Was aware of the source vs source/ but hard. Syntax doesn&#39;t feel intuitive</li><li>windows / posix paths. i.e. ~/home</li></ul><h2 id="goal" tabindex="-1">Goal <a class="header-anchor" href="#goal" aria-label="Permalink to &quot;Goal&quot;">​</a></h2><ul><li>ssh copy folder from source &#39;~/a/&#39; to destination &#39;~/tmp/a/&#39; <ul><li>[Expected Folder Structure](##Expected\ Folder\ Structure)</li></ul></li></ul><h2 id="summary-of-findings" tabindex="-1">Summary of Findings <a class="header-anchor" href="#summary-of-findings" aria-label="Permalink to &quot;Summary of Findings&quot;">​</a></h2><ol><li>Single quotes and use $HOME <ul><li>$HOME is pretty universel. case-senstive $HOME <ol><li>except in CMD. and psexec -s. <ul><li>so don&#39;t use $HOME better to use full path to user</li></ul></li><li>psexec. probably use &#39;$env:PUBLIC&#39; -&gt; <code>C:\Users\Public</code></li></ol></li><li>PWSH supports regular slashes &#39;/&#39; in paths</li></ul></li><li>Create /Ensure the destination folder exists on the destination</li><li>Windows PSEXec</li></ol><ul><li>linux to linux -&gt; rsync </li><li>linux to windows -&gt; scp <ul><li>assuming pwsh is defaulted shell of ssh</li></ul></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">##!/bin/bash</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Examples for both Windows and Linux. and no duplicates if ran multiple times</span></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remotehost:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$HOME/tmp</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$HOME/tmp</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## If $HOME/tmp already exists</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Single quotes important!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">##recommended... for windows psexec hardcode the path</span></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$Env:PUBLIC/tmp</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%PUBLIC%/tmp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">## unverified. might work if cmd is default ssh shell</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Example for Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remotehost:~/tmp</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## ~/tmp will be created if it doesnt exist</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Single quotes important!</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">##--------------------------------------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Create folders if not exist / exists - Single Quotes important!</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## avoid ssh to run the command.dont recommend using ssh if you dont have to. overhead to create connection to run a single command</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remotehost</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mkdir -p $HOME/tmp;tree $HOME/tmp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--color=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">New-Item -Path &quot;$HOME/tmp&quot; -ItemType Directory -Force -ErrorAction SilentlyContinue ; Get-ChildItem -Path &quot;$HOME/tmp&quot;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Remove Folders Example</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remotehost</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rm -rf &quot;$HOME/tmp&quot;;tree &quot;$HOME/tmp&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Remove-Item -Path &quot;$HOME/tmp&quot; -Recurse -Force -ErrorAction SilentlyContinue ; Get-ChildItem -Path &quot;$HOME/tmp&quot; -ErrorAction SilentlyContinue;write-host </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deleted</span><span style="color:#89DDFF;">&#39;&#39;</span></span></code></pre></div><h2 id="rsync-windows-cygwin" tabindex="-1">Rsync Windows Cygwin <a class="header-anchor" href="#rsync-windows-cygwin" aria-label="Permalink to &quot;Rsync Windows Cygwin&quot;">​</a></h2><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-cPQhD" id="tab-bCq-AVQ" checked="checked"><label for="tab-bCq-AVQ">bash</label><input type="radio" name="group-cPQhD" id="tab-zl-QeT0"><label for="tab-zl-QeT0">bash</label></div><div class="blocks"><div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># https://akliang.medium.com/how-to-rsync-directly-into-a-windows-10-machine-using-openssh-not-cygwin-or-wsl-cbbadff95712</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-avP</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--rsync-path=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wsl rsync</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">file_to_sen</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">usernam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">host_i</span><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">pat</span><span style="color:#A6ACCD;">h</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># https://superuser.com/questions/1734844/cygwin-rsync-cannot-run-outside-of-cygwin-terminal</span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Cygwin\bin\rsync.exe</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">C:\Cygwin\bin\ssh.exe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">source_file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">destination.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># interesting... maybe because i do not have it?</span></span>
<span class="line"><span style="color:#FFCB6B;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">c:/cygwin64/bin/ssh.exe</span></span></code></pre></div><ul><li>vite-press-docs.git/ pwsh-alias-exp.ps1</li><li>docs_readme_cygwin.md</li></ul></div></div><h2 id="test-environment" tabindex="-1">Test Environment <a class="header-anchor" href="#test-environment" aria-label="Permalink to &quot;Test Environment&quot;">​</a></h2><ul><li>localhost is a linux host / source</li><li>remotehost is a linux ssh destination host (same machine as localhost)</li><li>win11 is a windows ssh destination host <ul><li>pwsh is the default shell</li></ul></li><li>ssh config is configured properly</li></ul><h4 id="expected-folder-structure" tabindex="-1">Expected Folder Structure <a class="header-anchor" href="#expected-folder-structure" aria-label="Permalink to &quot;Expected Folder Structure&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">## Source Folder</span></span>
<span class="line"><span style="color:#FFCB6B;">/root/a</span></span>
<span class="line"><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a2</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a3</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a4.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directories,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Expected Destination Folder after copy</span></span>
<span class="line"><span style="color:#FFCB6B;">/root/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a2</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a3</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a4.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directories,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span></span></code></pre></div><h6 id="errors" tabindex="-1">Errors <a class="header-anchor" href="#errors" aria-label="Permalink to &quot;Errors&quot;">​</a></h6><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">##--------------------------------------------------</span></span>
<span class="line"><span style="color:#FFCB6B;">DExists:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/tmp:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:~/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">OK:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:~/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">OK:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:~/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">DNE</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/tmp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:~/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">ERROR:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:~/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">/root/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a2</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a3</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a4.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directories,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span></span>
<span class="line"><span style="color:#FFCB6B;">ERROR:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:~/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">/root/tmp</span></span>
<span class="line"><span style="color:#FFCB6B;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span></span>
<span class="line"><span style="color:#FFCB6B;">│  </span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a1</span></span>
<span class="line"><span style="color:#FFCB6B;">│  </span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a2</span></span>
<span class="line"><span style="color:#FFCB6B;">│  </span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a3</span></span>
<span class="line"><span style="color:#FFCB6B;">│  </span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a4.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a2</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a3</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a4.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directories,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">##--------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Windows if tmp didnt exist and ran mulitple times</span></span>
<span class="line"><span style="color:#FFCB6B;">FullName</span><span style="color:#A6ACCD;">                              </span></span>
<span class="line"><span style="color:#FFCB6B;">--------</span><span style="color:#A6ACCD;">                                    </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a</span><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a1</span><span style="color:#A6ACCD;">               </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a\a1</span><span style="color:#A6ACCD;">             </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a\a1\a2</span><span style="color:#A6ACCD;">          </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a\a1\a2\a3</span><span style="color:#A6ACCD;">       </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a\a1\a2\a3\a4.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a1\a2</span><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a1\a2\a3</span><span style="color:#A6ACCD;">         </span></span>
<span class="line"><span style="color:#FFCB6B;">C:\Users\Administrator\tmp\a1\a2\a3\a4.txt</span></span></code></pre></div><h4 id="sample-execution-for-windows" tabindex="-1">Sample Execution for Windows <a class="header-anchor" href="#sample-execution-for-windows" aria-label="Permalink to &quot;Sample Execution for Windows&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">## Delete</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## create</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## scp</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## check</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Remove-Item -Path &quot;$HOME/tmp&quot; -Recurse -Force -ErrorAction SilentlyContinue ; Get-ChildItem -Path &quot;$HOME/tmp&quot; -ErrorAction SilentlyContinue;write-host </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deleted</span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">New-Item -Path &quot;$HOME/tmp&quot; -ItemType Directory -Force -ErrorAction SilentlyContinue ; Get-ChildItem -Path &quot;$HOME/tmp&quot;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$HOME/tmp</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$HOME/tmp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">## and again</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Get-ChildItem -Path &quot;$HOME/tmp&quot; -Recurse -ErrorAction Stop | Select-Object -Property FullName -First 10</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">FullName</span></span>
<span class="line"><span style="color:#A6ACCD;">--------</span></span>
<span class="line"><span style="color:#A6ACCD;">C:\Users\Administrator\tmp\a</span></span>
<span class="line"><span style="color:#A6ACCD;">C:\Users\Administrator\tmp\a\a1</span></span>
<span class="line"><span style="color:#A6ACCD;">C:\Users\Administrator\tmp\a\a1\a2</span></span>
<span class="line"><span style="color:#A6ACCD;">C:\Users\Administrator\tmp\a\a1\a2\a3</span></span>
<span class="line"><span style="color:#A6ACCD;">C:\Users\Administrator\tmp\a\a1\a2\a3\a4.txt</span></span></code></pre></div><h2 id="appendix" tabindex="-1">Appendix <a class="header-anchor" href="#appendix" aria-label="Permalink to &quot;Appendix&quot;">​</a></h2><h4 id="common-pitfalls" tabindex="-1">Common Pitfalls <a class="header-anchor" href="#common-pitfalls" aria-label="Permalink to &quot;Common Pitfalls&quot;">​</a></h4><ul><li>From man pages:</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">A trailing slash on a source path means &quot;copy the contents of this directory&quot;. Without a trailing slash it means &quot;copy the directory&quot;. DESTINATION Destination is the directory that source is copied to. If the source argument ends with a trailing slash, the contents of the source directory are copied into the destination directory. Otherwise, the source directory itself is copied into the destination directory. This behavior can be changed using the --recursive (-r) option.</span></span></code></pre></div><h4 id="full-log-more-details-in" tabindex="-1">Full log - More details in <a class="header-anchor" href="#full-log-more-details-in" aria-label="Permalink to &quot;Full log - More details in&quot;">​</a></h4><ul><li><a href="src%5Cscp_rsync%5Clogfile.log">logfile.log</a></li><li>look at generate_scp_rsync_log.sh for more details</li></ul><h2 id="dependencies" tabindex="-1">Dependencies <a class="header-anchor" href="#dependencies" aria-label="Permalink to &quot;Dependencies&quot;">​</a></h2><ul><li><a href="src%5Cdebug_utils%5Cps1%5CGet-Tree.ps1">Get-Tree.ps1</a><ul><li>in profiles</li></ul></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">##!/bin/bash</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tree</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rsync</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Tested on Debian 11</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## rsync -V ## 3.2.3</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## sudo apt install tree rsync scp batcat -y</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## assuming ssh is installed</span></span></code></pre></div><h4 id="utility-commands" tabindex="-1">Utility Commands <a class="header-anchor" href="#utility-commands" aria-label="Permalink to &quot;Utility Commands&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#### Raw commands</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remotehost</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rm -rf &quot;$HOME/tmp&quot;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Remove-Item -Path &quot;$HOME/tmp&quot; -Recurse -Force -ErrorAction SilentlyContinue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## todo</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## find -e </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">##Get-tree has some cmd to check for path</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## verify multiple mkdir -p for windows</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">win11</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">New-Item -Path &quot;$HOME/tmp/a&quot; -ItemType Directory -Force -ErrorAction SilentlyContinue ; Get-Tree &quot;$HOME/tmp&quot;</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><h2 id="folder-name-change" tabindex="-1">Folder Name Change <a class="header-anchor" href="#folder-name-change" aria-label="Permalink to &quot;Folder Name Change&quot;">​</a></h2><ul><li>as of OpenSSH 9.0. scp uses sftp under the cover</li><li>Paramiko client as mentioned, is bundled with a sftp client</li><li><a href="https://www.linuxadictos.com/en/openssh-9-0-llega-con-sftp-en-lugar-de-scp-mejoras-y-mas.html##:~:text=9%20on%20Linux%3F-,Main%20new%20features%20of%20OpenSSH%209.0,host%2C%20which%20creates%20security%20issues" target="_blank" rel="noreferrer">https://www.linuxadictos.com/en/openssh-9-0-llega-con-sftp-en-lugar-de-scp-mejoras-y-mas.html##:~:text=9 on Linux%3F-,Main new features of OpenSSH 9.0,host%2C which creates security issues</a>. <ul><li>scp &#39;deprecated&#39; in favor of sftp</li></ul></li><li>apparently curl can use sftp... interesting</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">## Renames rasa_deps to rasa / folder name was changed</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/home/rasa/rasa_deps/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{@_host.loginprefix}}:/root/rasa</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">## this works in rsync, note because the </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## It&#39;s impossible in SCP to do it in one simple command - according to google</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#### i think i agree</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## Next Best thing for us</span></span>
<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home/rasa/rasa_deps/dependencies</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{@_host.loginprefix}}:/root/rasa</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">## this one works from trial an error</span></span></code></pre></div><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">tmp</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">|</span></span>
<span class="line"><span style="color:#C3E88D;">    print(&#39;hi&#39;)</span></span>
<span class="line"><span style="color:#C3E88D;">    def tmp:</span></span>
<span class="line"><span style="color:#C3E88D;">      print(&#39;bla&#39;)</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-0f1f0d5b data-v-abd814ce><!--[--><!--]--><!----><div class="prev-next" data-v-abd814ce><div class="pager" data-v-abd814ce><a class="pager-link prev" href="/ssh-config-cloud/ssh/index.html" data-v-abd814ce><span class="desc" data-v-abd814ce>Previous page</span><span class="title" data-v-abd814ce>SSH</span></a></div><div class="has-prev pager" data-v-abd814ce><a class="pager-link next" href="/ssh-config-cloud/vitePress/" data-v-abd814ce><span class="desc" data-v-abd814ce>Next page</span><span class="title" data-v-abd814ce>Developer Notes</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"4d309752\",\"vitepress_api-examples.md\":\"abd4c02a\",\"vitepress_markdown-examples.md\":\"36ca6f09\",\"ssh_readme_scp_rsync.md\":\"3549b86f\",\"ssh_index.md\":\"eb6cbbde\",\"wsl_index.md\":\"4e9b0421\",\"vitepress_index.md\":\"b762caf3\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-ca\",\"dir\":\"ltr\",\"title\":\"SSH Config Cloud\",\"description\":\"KVM Cloud-Init Hyper-V\",\"base\":\"/ssh-config-cloud/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Examples\",\"link\":\"/vitePress/\"}],\"sidebar\":[{\"text\":\"WSL\",\"items\":[{\"text\":\"WSL 2\",\"link\":\"/wsl/index\"}]},{\"text\":\"SSH\",\"items\":[{\"text\":\"SSH\",\"link\":\"/ssh/index\"},{\"text\":\"Rsync\",\"link\":\"/ssh/readme_scp_rsync\"}]},{\"text\":\"VitePress Examples\",\"items\":[{\"text\":\"Developer Notes\",\"link\":\"/vitePress/\"},{\"text\":\"Markdown Examples\",\"link\":\"/vitePress/markdown-examples\"},{\"text\":\"Runtime API Examples\",\"link\":\"/vitePress/api-examples\"}]}],\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hychan48/ssh-config-cloud\"}],\"markdown\":{\"lineNumbers\":true,\"space_size\":2}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>